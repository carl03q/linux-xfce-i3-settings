var Version=(function(){var version_key="tb-version";var current_version="2.6.12";var previous_version=DB.readLocalStorage(version_key);var operations={"==":function(operand1,operand2){return operand1==operand2},">=":function(operand1,operand2){return operand1>=operand2},"<=":function(operand1,operand2){return operand1<=operand2},"!=":function(operand1,operand2){return operand1!=operand2}};return{isNewInstall:!previous_version,onNewInstall:function(newInstallCb,oldInstallCb){if(!previous_version){newInstallCb(current_version)}else{oldInstallCb(current_version)}},update:function(){if(previous_version!=current_version){DB.insertLocalStorage(version_key,JSON.stringify(current_version))}},eval:function(operator,eval_version){eval_version_parts=eval_version.split(".");current_version_parts=current_version.split(".");for(var i=0;i<eval_version_parts.length;i++){if(current_version_parts[i]!==eval_version_parts[i]){return operations[operator](parseInt(current_version_parts[i]),parseInt(eval_version_parts[i]))}}return operator.indexOf("=")!=-1&&operator.indexOf("!")==-1?true:false}}})();