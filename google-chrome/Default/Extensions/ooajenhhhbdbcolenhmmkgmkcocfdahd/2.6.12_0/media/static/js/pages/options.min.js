function OptionsPage(a,b){this._init("#options-container",".tb-page","#tab-bundler-container",a,b,true);this._hiddenOptions=[Options.PasswordProtectHidden,Options.HideMessages,Options.AutomaticallySaveBundle];this._labelHtml='<input type="checkbox" id="tb-{1}" class="tb-option" option-id="{1}" name="tb-{1}" {0} {3}/><label for="tb-{1}" {3}> {2} </label>';this._groupHtml='<div class="full-width left pointer options-group" groupId="{0}">{0}. <span class="group-title">{1}</span></div> <div id="group-{0}" class="full-width left pointer options-container" hidden>{2}</div>';this._optionGroups={Appearance:[3,6,12,14],Autosave:[10,11],"Opening Bundles":[1,2,5,9,13],Search:[8]};this._optionLabels=["Password Protect Your Hidden Bundles","Close Window When Bundle Is Opened","Open With Smaller Screen Size","Confirm Bundle Deletion or Refresh",'Automatically Save Bundle <span class="mini_text">(Activated when bundle is opened or saved) </span>',"Push Bundles To The Top When Opened","Hide Tab Bundler Tips","Hide Messages From Tab Bundler","Use Bundle Name In Search","Keep Pinned Tabs Open From Previous Session","Ask to Set New Window As Autosave Target for Last Closed Bundle","Automatically Autosave New Bundles","Show Current Bundle Name On Tab Bundler Icon","Focus On Window If Already Opened","Show Icon For Export of Bundle to Csv"]}OptionsPage.inherits(Page);OptionsPage.method("toggle",function(a,b){this._toggle()});OptionsPage.method("fill",function(){var c=this;var a=Object.keys(this._optionGroups);var b=a.map(function(e,d){return c._groupHtml.format(d+1,e,c._optionGroups[e].map(function(g){var f=c._optionLabels[g];if(c._hiddenOptions.indexOf(g)===-1){var h=Options.isset(g);var i=Options.getCallback(g);i&&h?i():false;return c._labelHtml.format(h?"checked":"",g,f)}else{return c._labelHtml.format(h?"checked":"",g,f,"hidden")}}).join("<br/><br/>"))});$("#options").html(b.join("<br/>"))});OptionsPage.method("start",function(){var a=this;this.fill();$(".tb-option").click(function(){var b=parseInt($(this).attr("option-id"));var c=$(this).attr("checked")?true:false;var d=Options.getCallback(b);Options.toggleOption(b);d?d(c):false});$(".options-group").click(function(){$(this).toggleClass("group-title-selected");$("#group-{0}".format($(this).attr("groupId"))).toggle()});$("#export").click(function(){downloadDataURI($,{filename:"tbexport.tb",data:"data:application/txt;charset=utf-8,{0}".format(btoa(escape(TBAccessor.getBundleJSONString())))})});$("#import_input").change(function(d){var c=document.getElementById("import_input");if(!(!c||!c.files||!c.files[0])){var c=document.getElementById("import_input");var b=new FileReader();b.onload=function(){var e=collect(TBAccessor.getBundleJSON(),JSON.parse(unescape(atob(b.result))));if(e){TBAccessor.setBundleJSON(JSON.stringify(e));Bundles.fillBundles()}};b.readAsText(c.files[0]);a.trigger("tb-page-event")}})});var optionsPage=new OptionsPage(".options-page-toggler","options-page-event");optionsPage.start();