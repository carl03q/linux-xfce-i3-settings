function ChromeBrowser(){}ChromeBrowser.method("closeWindow",function(a){chrome.windows.remove(a,function(){})});ChromeBrowser.method("closeCurrentWindow",function(){var a=this;this.getCurrentWindow(function(b){a.closeWindow(b.id)})});ChromeBrowser.method("createInCurrentWindow",function(d,c,a){for(var b=0;b<d.length;b++){chrome.tabs.create({url:d[b],pinned:c[b]})}a?a():false});ChromeBrowser.method("create",function(e,b,c,a,d){createOptions=d||{};createOptions.incognito=b;createOptions.url=e.clean();c=c.clean();chrome.windows.create(createOptions,function(g){var h=g.id;for(var f=0;f<c.length;f++){chrome.tabs.create({windowId:h,url:c[f],pinned:true})}a?a(g):false})});ChromeBrowser.method("createInWindow",function(a,b,c){chrome.tabs.create({windowId:a,url:b,pinned:c})});ChromeBrowser.method("open",function(a){chrome.tabs.create({url:a})});ChromeBrowser.method("getFocusedWindow",function(a){this.getWindows(false,function(c){for(index in c){var b=c[index];if(b&&b.focused){a(b)}}})});ChromeBrowser.method("getWindows",function(b,a){chrome.windows.getAll({populate:b},function(c){a(c)})});ChromeBrowser.method("getCurrentWindow",function(a){chrome.windows.getCurrent(function(b){a?a(b):false})});ChromeBrowser.method("getCurrentTabList",function(a,b){var c=this;this.getCurrentWindow(function(d){c.getTabList(d.id,b,a)})});ChromeBrowser.method("getTabList",function(b,c,a){c=c?c:{};c.windowId=b;chrome.tabs.query(c,function(d){a?a(d,b):false})});ChromeBrowser.method("removeTabs",function(b,a){b=b.length===1?[b]:b;chrome.tabs.remove(b,function(){a?a():false})});ChromeBrowser.method("onRemoved",function(a){chrome.windows.onRemoved.addListener(a)});ChromeBrowser.method("onFocusChanged",function(a){chrome.windows.onFocusChanged.addListener(function(b){a(b)})});ChromeBrowser.method("onCreated",function(a){chrome.windows.onCreated.addListener(function(b){a(b)})});ChromeBrowser.method("onTabActivated",function(a){chrome.tabs.onActivated.addListener(function(b){a(b.tabId,b.windowId)})});ChromeBrowser.method("onTabCreated",function(a){chrome.tabs.onCreated.addListener(function(b){a(b)})});ChromeBrowser.method("onTabUpdated",function(a){chrome.tabs.onUpdated.addListener(function(c,b,d){a(d,b)})});ChromeBrowser.method("onTabDetached",function(a){chrome.tabs.onDetached.addListener(function(b,c){a(b,c)})});ChromeBrowser.method("onTabAttached",function(a){chrome.tabs.onAttached.addListener(function(b,c){a(b,c)})});ChromeBrowser.method("onTabRemoved",function(a){chrome.tabs.onRemoved.addListener(function(c,b){a(c,b)})});var Browser=new ChromeBrowser();