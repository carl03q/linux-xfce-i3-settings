function SearchPage(a,b){this._init("#search-container",".tb-page","#tab-bundler-container",a,b,true);Mousetrap.bindGlobal("shift+f",function(){$("#search").click()},"keyup")}SearchPage.inherits(Page);SearchPage.method("toggle",function(a,b){this.uber("_toggle",function(){$("#search-box").focus();Mousetrap.pause()},function(){Mousetrap.unpause()})});SearchPage.method("start",function(){this.setupTypeahead();$("#search-box").onEnter(function(){if($("#empty-search-result").is(":visible")){Browser.open("http://www.bing.com/search?q={0}".format(encodeURIComponent($("#search-box").val())))}})});SearchPage.method("setupTypeahead",function(){var c=function(d){return function e(i,f){var h,g;h=[];g=new RegExp(i,"i");$.each(d,function(j,k){if(g.test(k.t)||g.test(k.l)){h.push(k);return}if(Options.isset(Options.UseBundleNameInSearch)&&g.test(k.b)){h.push(k)}});f(h)}};var a=TBAccessor.getBundleJSON();var b=[];b=b.concat.apply(b,Object.keys(a).map(function(d){return a[d].map(function(e){e.b=d;return e})}));$("#search-box.typeahead").typeahead({hint:true,highlight:true,minLength:1},{displayKey:"t",templates:{suggestion:function(d){return['<div class="search-result pointer">','<div class="tb-text">[{2}] {0}</div>','<div class="mini_text">{1}</div>',"</div>"].join("\n").format(d.t,d.l,d.b)},empty:['<div id="empty-search-result" class="search-result">',"Unable to find any results within your bundles. If no tabs are selected, hitting [Enter] searches online.","</div>"].join("\n")},source:c(b)});$("#search-box.typeahead").bind("typeahead:selected",function(e,d){Browser.open(d.l)})});var searchPage=new SearchPage(".search-page-toggler","search-page-event");