function LoginPage(a,b){this._init("#sign-in-container",".tb-page","#tab-bundler-container",a,b,false);this.$email=$("#email");this.$password=$("#password");this.$login=$("#login");this.$signOut=$("#sign-out")}LoginPage.inherits(Page);LoginPage.method("toggle",function(a,b){this.uber("_toggle",function(){Mousetrap.pause()},function(){Mousetrap.unpause()})});LoginPage.method("toggleButton",function(){$(".sign-in-button").toggle()});LoginPage.method("showSignIn",function(){!$("#sign-in").is(":visible")?this.toggleButton():false});LoginPage.method("signOut",function(){Account.logout();this.showSignIn();this.trigger("logout")});LoginPage.method("start",function(){var a=this;if(Account.loggedIn()){a.toggleButton()}else{Account.logout()}this.bind("startLogout",function(){a.signOut()});[a.$email,a.$password].map(function(b){b.setDefault();b.onEnter(function(){a.$login.click()})});a.$login.click(function(){var c=a.$email.val();var b=a.$password.val();Account.login(c,b,function(){a.toggleButton();a.trigger("login");a.trigger("login-page-event")},function(d){$("#tb-sign-in-error").text(d.message)})});a.$signOut.click(function(){a.signOut()});$("#tb-forgot-password").click(function(){chrome.windows.create({url:$("#tb-forgot-password a").attr("href")},function(){})})});var loginPage=new LoginPage(".login-page-toggler","login-page-event");loginPage.start();