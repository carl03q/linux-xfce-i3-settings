Function.prototype.method=function(a,b){this.prototype[a]=b;return this};Function.prototype.has=function(a){for(property in a){this.prototype[property]=a[property]}return this};Function.method("inherits",function(b){this.prototype=new b();var e={},c=this.prototype;this.prototype.constructor=b;this.method("uber",function a(g){if(!(g in e)){e[g]=0}var j,i,h=e[g],d=b.prototype;if(h){while(h){d=d.constructor.prototype;h-=1}j=d[g]}else{j=c[g];if(j==this[g]){j=d[g]}}e[g]+=1;i=j.apply(this,Array.prototype.slice.apply(arguments,[1]));e[g]-=1;return i});return this});Function.method("swiss",function(c){for(var b=1;b<arguments.length;b+=1){var a=arguments[b];this.prototype[a]=c.prototype[a]}return this});function checkMac(){return/Mac/.test(navigator.userAgent)}function getHostname(a){if(a.indexOf("http://")==-1&&a.indexOf("https://")==-1&&a.indexOf("file://")==-1){a="http://"+a}return(a.match(/:\/\/(.[^/]+)/)[1]).replace("www.","")}function collect(){var b={};var a=arguments.length;for(var c=0;c<a;c++){for(p in arguments[c]){if(arguments[c].hasOwnProperty(p)){b[p]=arguments[c][p]}}}return b}var downloadDataURI=function(b,a){if(!a){return}b.isPlainObject(a)||(a={data:a});if(!b.browser.webkit){window.location=a.data}a.filename||(a.filename="download."+a.data.split(",")[0].split(";")[0].substring(5).split("/")[1]);a.url||(a.url="http://download-data-uri.appspot.com/");b('<form method="post" action="'+a.url+'" style="display:none"><input type="hidden" name="filename" value="'+a.filename+'"/><input type="hidden" name="data" value="'+a.data+'"/></form>').submit().remove()};function isOnline(){var c=new (window.ActiveXObject||XMLHttpRequest)("Microsoft.XMLHTTP");var a;c.open("HEAD","//"+window.location.hostname+"/?rand="+Math.floor((1+Math.random())*65536),false);try{c.send();return(c.status>=200&&(c.status<300||c.status===304))}catch(b){return false}}function getQueryStrings(){var e={};var d=function(g){return decodeURIComponent(g.replace(/\+/g," "))};var f=location.search.substring(1);var a=f.split("&");for(var c=0;c<a.length;c++){var b=a[c].split("=");if(b.length>1){e[d(b[0])]=d(b[1])}}return e}function base64Encode(h){var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var c="",e=0,a=h.length,f,d,b;while(e<a){f=h.charCodeAt(e++)&255;if(e==a){c+=g.charAt(f>>2);c+=g.charAt((f&3)<<4);c+="==";break}d=h.charCodeAt(e++);if(e==a){c+=g.charAt(f>>2);c+=g.charAt(((f&3)<<4)|((d&240)>>4));c+=g.charAt((d&15)<<2);c+="=";break}b=h.charCodeAt(e++);c+=g.charAt(f>>2);c+=g.charAt(((f&3)<<4)|((d&240)>>4));c+=g.charAt(((d&15)<<2)|((b&192)>>6));c+=g.charAt(b&63)}return c}var guid=(function(){function a(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}})();Array.prototype.clean=function(b){for(var a=0;a<this.length;a++){if(this[a]==b){this.splice(a,1);a--}}return this};function moveAttribute(b,f,d){var c={};var a=0;var e=false;for(attribute in b){if(attribute==f){e=true}if(attribute!=f&&e){c[attribute]=b[attribute]}if(a++==d){c[f]=b[f]}if(attribute!=f&&!e){c[attribute]=b[attribute]}}return c}function isArray(a){return Object.prototype.toString.call(a)==="[object Array]"}function isObject(a){return Object.prototype.toString.call(a)==="[object Object]"}function isOpera(){return !!window.opera||navigator.userAgent.indexOf(" OPR/")>=0}function isChrome(){return !!window.chrome&&!isOpera()}function isExtension(){return window.location.protocol==="chrome-extension:"}function tabBundlerInstalled(b,c){var a=new Image();a.src="chrome-extension://"+b+"/media/images/tbIconOrange.png";a.onload=function(){c(true)};a.onerror=function(){c(false)}};